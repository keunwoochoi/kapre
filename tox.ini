[tox]
envlist = py38,py39,py310,py311,black
skipsdist = False
usedevelop = True

[testenv]
whitelist_externals = python

[testenv:py38]
basepython = python3.8
deps =
    pytest
commands =
    py.test {posargs}

[testenv:py39]
basepython = python3.9
deps =
    pytest
commands =
    py.test {posargs}

[testenv:py310]
basepython = python3.10
deps =
    pytest
commands =
    py.test {posargs}

[testenv:py311]
basepython = python3.11
deps =
    pytest
commands =
    py.test {posargs}

[testenv:black]
; "black" is a code formatter, much like gofmt. It requires 3.6 or higher.
; Tingle has 3.6 available to it; but feel free to uncomment the line
; `ignore_outcome` if it fails. Docs: https://github.com/ambv/black
;ignore_outcome = true
basepython = python3.8
deps = black
skip_install = true
commands =
    ; remove the '--diff' and '--check' flags to automatically write out corrections
    black --diff --check {toxinidir}/kapre
    black --diff --check {toxinidir}/tests

; The sections defined below are for configuring specific tools that are used
; in the above testenvs. Usually, if the tool is ran directly/outside of tox,
; i.e. `(env) $ pytest`, it will still pick up this configuration.
